function clean_this(e){var t=$(e).parents("th").index();$($($(e).parents("table").find("tr")[1]).find("th")[t]).children()[0].value="",$($($($(e).parents("table").find("tr")[1]).find("th")[t]).children()[0]).trigger("change")}function clean_all(e){$(e).closest(".table").find(".clean-filter").each((function(e,t){$(this).val(""),$(this).trigger("change")}))}function initInput(e){$.each($(".select-filter",e.table().header()),(function(){var t=e.column($(this).index()),n=$("select",this);t.data().unique().sort().each((function(e,t){n.append('<option value="'+e+'">'+e+"</option>"),n.val("")})),$("select",this).on("change",(function(){if(null!==$(this).val()){var n=$.fn.dataTable.util.escapeRegex($(this).val());t.search(n?"^"+n+"$":"",!0,!1)}else t.search("");t.draw(),$.each($(".select-filter",e.table().header()),(function(){var t=$("select",this),n=t.val();t.find("option").remove().end(),e.column($(this).index(),{search:"applied"}).data().unique().sort().each((function(e,n){t.append('<option value="'+e+'">'+e+"</option>")})),t.val(n)}))}))})),$.each($(".input-filter",e.table().header()),(function(){var t=e.column($(this).index());$("input",this).on("keyup change",(function(){t.search()!==this.value&&(t.search(this.value).draw(),$.each($(".select-filter",e.table().header()),(function(){var t=$("select",this),n=t.val();t.find("option").remove().end(),e.column($(this).index(),{search:"applied"}).data().unique().sort().each((function(e,n){t.append('<option value="'+e+'">'+e+"</option>"),e})),t.val(n)})))}))}))}function datatables_init(e,t,n,a,l=!1,i=!1,o=null,r=!1,c=null){var s,u,d="";return d=l?'<"d-flex justify-content-between align-items-center"<"btn-group"B>f>rtip':"lrtip",i?(u="",data=JSON.parse(o).data):(u={url:t,type:"GET"},data=null),s=$(e).DataTable({dom:d,autoWidth:!1,colReorder:!0,processing:!0,columns:a,keys:!0,data:data,ajax:u,scrollX:!0,rowGroup:{dataSrc:"title"},buttons:["excel","csv"],createdRow:function(e,t){null!==c&&t[c.keyFieldToCheck]===c.value&&(cell=$($(e).children("td")[c.SQLColumnNumber]),cell.css("color",c.color),cell.popover({trigger:"hover",title:"Information",content:c.popoverText,placement:"bottom"}))},order:[],pageLength:n,orderCellsTop:!0,initComplete:function(e,t){r||initInput(e.oInstance.api())}}),$(".buttons-copy, .buttons-csv, .buttons-print, .buttons-pdf, .buttons-excel").addClass("btn mb-2"),$(".buttons-select-all, .buttons-select-none").addClass("btn mb-2"),s}function formatForDatatables(e){return JSONLen=Object.keys(e).length,JSONResponse='{"draw": 1,"recordsTotal":'+JSONLen+',"recordsFiltered": '+JSONLen+',"data": '+JSON.stringify(e)+"}",JSONResponse}function getFromAPIAsync(e,t=!0){let n="text";return t&&(n="json"),ajaxOptions={type:"GET",url:e,dataType:n},$.ajax(ajaxOptions)}